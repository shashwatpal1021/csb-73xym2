{"version":3,"sources":["context/shop-context.js","context/reducers.js","context/GlobalState.js","components/MainNavigation.js","pages/Products.js","pages/Cart.js","App.js","index.js"],"names":["React","createContext","products","id","title","price","cart","addProductToCart","product","removeProductFromCart","productId","shopReducer","state","action","type","updatedCart","Object","toConsumableArray","updatedItemIndex","findIndex","item","push","objectSpread","quantity","updatedItem","console","log","splice","GlobalState","props","_useReducer","useReducer","_useReducer2","slicedToArray","cartState","dispatch","react_default","a","createElement","shop_context","Provider","value","setTimeout","children","mainNavigation","className","react_router_dom","to","cartItemNumber","ProductsPage","Consumer","context","Fragment","components_MainNavigation","reduce","count","curItem","map","key","onClick","bind","CartPage","useContext","ShopContext","useEffect","length","cartItem","App","context_GlobalState","react_router","path","component","exact","rootElement","document","getElementById","ReactDOM","render","src_App_0"],"mappings":"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","file":"static/js/main.02ef9bf0.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default React.createContext({\n  products: [\n    { id: \"p1\", title: \"Gaming Mouse\", price: 29.99 },\n    { id: \"p2\", title: \"Harry Potter 3\", price: 9.99 },\n    { id: \"p3\", title: \"Used plastic bottle\", price: 0.99 },\n    { id: \"p4\", title: \"Half-dried plant\", price: 2.99 }\n  ],\n  cart: [],\n  addProductToCart: product => {},\n  removeProductFromCart: productId => {}\n});\n","export const ADD_PRODUCT = \"ADD_PRODUCT\";\nexport const REMOVE_PRODUCT = \"REMOVE_PRODUCT\";\n\nconst addProductToCart = (product, state) => {\n  const updatedCart = [...state.cart];\n  const updatedItemIndex = updatedCart.findIndex(\n    item => item.id === product.id\n  );\n\n  if (updatedItemIndex < 0) {\n    updatedCart.push({ ...product, quantity: 1 });\n  } else {\n    const updatedItem = {\n      ...updatedCart[updatedItemIndex]\n    };\n    updatedItem.quantity++;\n    updatedCart[updatedItemIndex] = updatedItem;\n  }\n  return { ...state, cart: updatedCart };\n};\n\nconst removeProductFromCart = (productId, state) => {\n  console.log(\"Removing product with id: \" + productId);\n  const updatedCart = [...state.cart];\n  const updatedItemIndex = updatedCart.findIndex(item => item.id === productId);\n\n  const updatedItem = {\n    ...updatedCart[updatedItemIndex]\n  };\n  updatedItem.quantity--;\n  if (updatedItem.quantity <= 0) {\n    updatedCart.splice(updatedItemIndex, 1);\n  } else {\n    updatedCart[updatedItemIndex] = updatedItem;\n  }\n  return { ...state, cart: updatedCart };\n};\n\nexport const shopReducer = (state, action) => {\n  switch (action.type) {\n    case ADD_PRODUCT:\n      return addProductToCart(action.product, state);\n    case REMOVE_PRODUCT:\n      return removeProductFromCart(action.productId, state);\n    default:\n      return state;\n  }\n};\n","import React, { useState, useReducer } from \"react\";\n\nimport ShopContext from \"./shop-context\";\nimport { shopReducer, ADD_PRODUCT, REMOVE_PRODUCT } from \"./reducers\";\n\nconst GlobalState = props => {\n  const products = [\n    { id: \"p1\", title: \"Gaming Mouse\", price: 29.99 },\n    { id: \"p2\", title: \"Harry Potter 3\", price: 9.99 },\n    { id: \"p3\", title: \"Used plastic bottle\", price: 0.99 },\n    { id: \"p4\", title: \"Half-dried plant\", price: 2.99 }\n  ];\n  // const [cart, setCart] = useState([]);\n  const [cartState, dispatch] = useReducer(shopReducer, { cart: [] });\n\n  const addProductToCart = product => {\n    setTimeout(() => {\n      // setCart(updatedCart);\n      dispatch({ type: ADD_PRODUCT, product: product });\n    }, 700);\n  };\n\n  const removeProductFromCart = productId => {\n    setTimeout(() => {\n      // setCart(updatedCart);\n      dispatch({ type: REMOVE_PRODUCT, productId: productId });\n    }, 700);\n  };\n\n  return (\n    <ShopContext.Provider\n      value={{\n        products: products,\n        cart: cartState.cart,\n        addProductToCart: addProductToCart,\n        removeProductFromCart: removeProductFromCart\n      }}\n    >\n      {props.children}\n    </ShopContext.Provider>\n  );\n};\n\nexport default GlobalState;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport \"./MainNavigation.css\";\n\nconst mainNavigation = props => (\n  <header className=\"main-navigation\">\n    <nav>\n      <ul>\n        <li>\n          <NavLink to=\"/\">Products</NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/cart\">Cart ({props.cartItemNumber})</NavLink>\n        </li>\n      </ul>\n    </nav>\n  </header>\n);\n\nexport default mainNavigation;\n","import React from \"react\";\n// import { connect } from 'react-redux';\n\nimport ShopContext from \"../context/shop-context\";\nimport MainNavigation from \"../components/MainNavigation\";\n// import { addProductToCart } from '../store/actions';\nimport \"./Products.css\";\n\nconst ProductsPage = props => {\n  return (\n    <ShopContext.Consumer>\n      {context => (\n        <React.Fragment>\n          <MainNavigation\n            cartItemNumber={context.cart.reduce((count, curItem) => {\n              return count + curItem.quantity;\n            }, 0)}\n          />\n          <main className=\"products\">\n            <ul>\n              {context.products.map(product => (\n                <li key={product.id}>\n                  <div>\n                    <strong>{product.title}</strong> - ${product.price}\n                  </div>\n                  <div>\n                    <button\n                      onClick={context.addProductToCart.bind(this, product)}\n                    >\n                      Add to Cart\n                    </button>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </main>\n        </React.Fragment>\n      )}\n    </ShopContext.Consumer>\n  );\n};\n\n// const mapStateToProps = state => {\n//   return {\n//     products: state.products,\n//     cartItemCount: state.cart.reduce((count, curItem) => {\n//       return count + curItem.quantity;\n//     }, 0)\n//   };\n// };\n\n// const mapDispatchToProps = dispatch => {\n//   return {\n//     addProductToCart: product => dispatch(addProductToCart(product))\n//   };\n// };\n\nexport default ProductsPage;\n","import React, { useContext, useEffect } from \"react\";\n// import { connect } from 'react-redux';\n\nimport ShopContext from \"../context/shop-context\";\nimport MainNavigation from \"../components/MainNavigation\";\n// import { removeProductFromCart } from '../store/actions';\nimport \"./Cart.css\";\n\nconst CartPage = props => {\n  const context = useContext(ShopContext);\n\n  useEffect(() => {\n    console.log(context);\n  }, []);\n\n  return (\n    <React.Fragment>\n      <MainNavigation\n        cartItemNumber={context.cart.reduce((count, curItem) => {\n          return count + curItem.quantity;\n        }, 0)}\n      />\n      <main className=\"cart\">\n        {context.cart.length <= 0 && <p>No Item in the Cart!</p>}\n        <ul>\n          {context.cart.map(cartItem => (\n            <li key={cartItem.id}>\n              <div>\n                <strong>{cartItem.title}</strong> - ${cartItem.price} (\n                {cartItem.quantity})\n              </div>\n              <div>\n                <button\n                  onClick={context.removeProductFromCart.bind(\n                    this,\n                    cartItem.id\n                  )}\n                >\n                  Remove from Cart\n                </button>\n              </div>\n            </li>\n          ))}\n        </ul>\n      </main>\n    </React.Fragment>\n  );\n};\n\n// const mapStateToProps = state => {\n//   return {\n//     cartItems: state.cart,\n//     cartItemCount: state.cart.reduce((count, curItem) => {\n//       return count + curItem.quantity;\n//     }, 0)\n//   };\n// };\n\n// const mapDispatchToProps = dispatch => {\n//   return {\n//     removeProductFromCart: id => dispatch(removeProductFromCart(id))\n//   };\n// };\n\nexport default CartPage;\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\n\nimport GlobalState from \"./context/GlobalState\";\nimport ProductsPage from \"./pages/Products\";\nimport CartPage from \"./pages/Cart\";\nimport \"./App.css\";\n\nconst App = props => {\n  return (\n    <GlobalState>\n      <BrowserRouter>\n        <Switch>\n          <Route path=\"/\" component={ProductsPage} exact />\n          <Route path=\"/cart\" component={CartPage} exact />\n        </Switch>\n      </BrowserRouter>\n    </GlobalState>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nimport \"./styles.css\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}